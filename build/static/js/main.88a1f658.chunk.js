(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(52)},40:function(e,t,a){},42:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),l=a(26),c=a.n(l),s=(a(40),a(10)),u=a.n(s),m=a(33),o=a(19),i=a(14),d=a(12),p=a(32),f=a(9),E=a.n(f),b=a(31);a(42);function v(){var e=Object(d.a)(["\n\t\t\t{\n\t\t\t\tgetAllUsers {\n\t\t\t\t\t","\n\t\t\t\t}\n\t\t\t}\n\t\t"]);return v=function(){return e},e}function h(){var e=Object(d.a)(["\n\t\t\tmutation($user: UserInput!) {\n\t\t\t\taddUser(input: $user) {\n\t\t\t\t\tid\n\t\t\t\t}\n\t\t\t}\n\t\t"]);return h=function(){return e},e}function N(){var e=Object(d.a)(["\n\t\t\tmutation {\n\t\t\t\tresetUsers\n\t\t\t}\n\t\t"]);return N=function(){return e},e}function g(){var e=Object(d.a)(["\n\t{\n\t\tgetAllUsers {\n\t\t\tfirstName\n\t\t\tlastName\n\t\t\temail\n\t\t\tpassword\n\t\t}\n\t}\n"]);return g=function(){return e},e}var w=new p.a({uri:"https://hupra.dk/miniproject/graphql"});E()(g());function k(e){var t=e.users;if(0===t.length)return"No data found";var a=Object.keys(t[0]).slice(0,-1).map(function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()});return r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,a.map(function(e){return r.a.createElement("th",{key:e},e)}))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement("tr",{key:JSON.stringify(e)},Object.keys(e).slice(0,-1).map(function(t){return r.a.createElement("td",{key:t},e[t])}))})))}function y(e){var t=e.handleCheckbox;return r.a.createElement(r.a.Fragment,null,r.a.createElement("di",null,r.a.createElement("input",{type:"checkbox",value:"email",onChange:t}),r.a.createElement("label",null,"email"),r.a.createElement("br",null),r.a.createElement("input",{type:"checkbox",value:"firstName",onChange:t}),r.a.createElement("label",null,"firstName"),r.a.createElement("br",null),r.a.createElement("input",{type:"checkbox",value:"lastName",onChange:t}),r.a.createElement("label",null,"lastName"),r.a.createElement("br",null),r.a.createElement("input",{type:"checkbox",value:"userName",onChange:t}),r.a.createElement("label",null,"userName")))}function j(e){var t=e.u,a=e.updateUser,n=e.addUser,l=e.feedback;return r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("h3",null,"Make new user"),r.a.createElement("form",{className:"row",onSubmit:n},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter username",name:"userName",value:t.userName,onChange:a,required:!0}))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email address"),r.a.createElement("input",{type:"email",className:"form-control",placeholder:"Enter email",name:"email",value:t.email,onChange:a,required:!0}))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Firstname"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter firstname",name:"firstName",value:t.firstName,onChange:a,required:!0}))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Lastname"),r.a.createElement("input",{type:"test",className:"form-control",placeholder:"Enter lastname",name:"lastName",value:t.lastName,onChange:a,required:!0}))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password",name:"password",value:t.password,onChange:a,required:!0}))),l&&r.a.createElement("div",{className:"col-sm-12"},l),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-primary"},"Submit")))))}var O=function(){var e=Object(n.useState)({userName:"kurtw",firstName:"kurt",lastName:"wonnegut",email:"kurt@mailen.dk",password:"123"}),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),s=Object(i.a)(c,2),d=s[0],p=s[1],f=Object(n.useState)(["userName","id"]),g=Object(i.a)(f,2),O=g[0],x=g[1],U=Object(n.useState)(!1),C=Object(i.a)(U,2),q=C[0],S=C[1];function A(){return F.apply(this,arguments)}function F(){return(F=Object(o.a)(u.a.mark(function e(){var t,a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("bah"),t=E()(v(),O.join(" ")),e.next=4,w.query({query:t,fetchPolicy:"no-cache"});case 4:a=e.sent,n=a.data,a.loading,a.error,console.log(n.getAllUsers),p(n.getAllUsers);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object(n.useEffect)(function(){return A()},[]);var J=function(){var e=Object(o.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=E()(N()),e.next=3,w.mutate({mutation:t});case 3:setTimeout(function(){A()},50);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(o.a)(u.a.mark(function e(t){var n,r,l,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=E()(h()),e.next=4,w.mutate({mutation:n,variables:{user:a}});case 4:r=e.sent,l=r.data.addUser,c="Username already in use",l&&(c="new users id: "+l.id),S(c),A();case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(b.a,{client:w},r.a.createElement("div",{className:"App container"},r.a.createElement(k,{users:d}),r.a.createElement("hr",null),r.a.createElement("button",{className:"btn btn-danger",onClick:J},"Reset users"),r.a.createElement("hr",null),r.a.createElement(y,{handleCheckbox:function(e){var t=e.target.checked,a=e.target.value;t?O.push(a):O=O.filter(function(e){return e!==a}),x(O),A()}}),r.a.createElement(j,{u:a,updateUser:function(e){var t=e.target.name,n=e.target.value;a[t]=n,l(Object(m.a)({},a))},addUser:P,feedback:q})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,1,2]]]);
//# sourceMappingURL=main.88a1f658.chunk.js.map